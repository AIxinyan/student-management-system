# AI 辅助的学生信息管理系统 - 需求拆解文档

## 一、项目概述

本项目是一个全栈的学生信息管理系统，支持学生信息的增删改查、筛选功能，并提供 AI 辅助的成绩分析报告功能。

## 二、功能模块清单

### 2.1 前端功能模块

#### 模块 1：学生信息录入表单
- **任务拆解**：
  1. 设计表单 UI（包含姓名、学号、班级、成绩输入框）
  2. 实现表单验证（非空验证、学号格式验证、成绩范围验证）
  3. 绑定表单提交事件
  4. 调用后端 API 保存数据
  5. 显示提交成功/失败提示

#### 模块 2：学生信息列表展示
- **任务拆解**：
  1. 设计列表 UI（表格形式：姓名、学号、班级、成绩列）
  2. 从后端 API 获取学生列表数据
  3. 动态渲染学生列表
  4. 为每行添加编辑和删除按钮
  5. 实现编辑功能（弹出表单，预填数据）
  6. 实现删除功能（二次确认后删除）

#### 模块 3：学生信息筛选功能
- **任务拆解**：
  1. 设计筛选 UI（班级下拉选择、成绩范围输入）
  2. 绑定筛选条件变化事件
  3. 调用后端筛选 API
  4. 更新列表显示结果

#### 模块 4：AI 成绩分析报告展示
- **任务拆解**：
  1. 添加"生成分析报告"按钮
  2. 调用后端 AI 分析 API
  3. 展示分析结果（平均分、最高分、最低分、排名建议等）
  4. 支持报告导出或打印

### 2.2 后端功能模块

#### 模块 1：学生信息 CRUD API
- **任务拆解**：
  1. 设计学生数据模型（Schema：姓名、学号、班级、成绩）
  2. 实现 POST /api/students - 创建学生信息
  3. 实现 GET /api/students - 获取所有学生信息
  4. 实现 GET /api/students/:id - 获取单个学生信息
  5. 实现 PUT /api/students/:id - 更新学生信息
  6. 实现 DELETE /api/students/:id - 删除学生信息
  7. 添加参数验证和错误处理

#### 模块 2：学生信息筛选 API
- **任务拆解**：
  1. 实现 GET /api/students/filter - 筛选接口
  2. 支持按班级筛选
  3. 支持按成绩范围筛选
  4. 支持多条件组合筛选

#### 模块 3：数据库连接与配置
- **任务拆解**：
  1. 配置 MongoDB 连接
  2. 创建学生数据模型（Mongoose Schema）
  3. 实现数据库错误处理
  4. 配置数据库连接池

#### 模块 4：AI 辅助成绩分析 API
- **任务拆解**：
  1. 实现 GET /api/students/analysis - 分析接口
  2. 计算平均分、最高分、最低分
  3. 实现成绩排名逻辑
  4. 生成改进建议（基于成绩分布）
  5. 返回格式化的分析报告

### 2.3 AI 辅助功能模块

#### 模块 1：成绩统计分析
- **任务拆解**：
  1. 计算班级平均分
  2. 计算学生排名（全校、班级）
  3. 分析成绩分布（优秀、良好、及格、不及格人数）
  4. 识别成绩异常值（过高或过低）

#### 模块 2：个性化建议生成
- **任务拆解**：
  1. 根据成绩范围生成建议（如：优秀学生保持，需提高学生辅导建议）
  2. 分析班级整体表现
  3. 提供提升建议

## 三、接口设计

### 3.1 学生信息相关接口

| 接口路径 | 请求方法 | 功能说明 | 请求参数 | 返回数据 |
|---------|---------|---------|---------|---------|
| /api/students | POST | 创建学生信息 | { name, studentId, class, score } | { success, data, message } |
| /api/students | GET | 获取所有学生 | 无 | { success, data: [...], message } |
| /api/students/:id | GET | 获取单个学生 | id (路径参数) | { success, data, message } |
| /api/students/:id | PUT | 更新学生信息 | id, { name, studentId, class, score } | { success, data, message } |
| /api/students/:id | DELETE | 删除学生信息 | id (路径参数) | { success, message } |
| /api/students/filter | GET | 筛选学生信息 | class, minScore, maxScore | { success, data: [...], message } |
| /api/students/analysis | GET | 生成分析报告 | 无 | { success, data: { avg, max, min, rank, suggestions }, message } |

### 3.2 数据模型设计

#### Student Schema (MongoDB)
```javascript
{
  name: String,        // 学生姓名
  studentId: String,   // 学号（唯一）
  class: String,       // 班级
  score: Number,       // 成绩（0-100）
  createdAt: Date,     // 创建时间
  updatedAt: Date      // 更新时间
}
```

## 四、技术栈

- **前端**：HTML5 + CSS3 + JavaScript (原生)
- **后端**：Node.js + Express
- **数据库**：MongoDB + Mongoose
- **部署**：Nginx
- **版本控制**：Git

## 五、AI 辅助点说明

### 5.1 代码生成辅助
- 使用 AI 生成 Express 路由模板
- 使用 AI 生成 Mongoose Schema 定义
- 使用 AI 生成前端表单 HTML 结构
- 使用 AI 生成数据验证逻辑

### 5.2 调试辅助
- 遇到 CORS 错误时，向 AI 询问解决方案
- 遇到数据库连接失败时，向 AI 询问排查步骤
- 遇到接口返回 500 错误时，向 AI 分析错误原因

### 5.3 优化建议
- 向 AI 询问性能优化建议
- 向 AI 询问代码规范建议
- 向 AI 询问安全性改进建议

## 六、开发流程

1. **阶段 1**：初始化项目和 Git 仓库
2. **阶段 2**：开发后端 API（使用 feature/backend 分支）
3. **阶段 3**：开发前端页面（使用 feature/frontend 分支）
4. **阶段 4**：开发 AI 分析功能（使用 feature/ai-function 分支）
5. **阶段 5**：集成测试和调试
6. **阶段 6**：配置 Nginx 部署
7. **阶段 7**：推送到远程仓库

## 七、预期成果

- 完整的学生信息管理系统
- 规范的 Git 提交记录
- 详细的 AI 辅助使用记录
- 完整的部署配置文档
