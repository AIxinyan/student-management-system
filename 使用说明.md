# 学生信息管理系统 - 使用说明

## 📋 系统概述

这是一个基于 **Node.js + Express + MongoDB** 的学生信息管理系统，支持用户登录注册、权限管理和 AI 辅助成绩分析功能。

## 🎯 主要功能

### 1. 用户认证系统
- **管理员登录**：固定账号 `root` / `000000`
- **学生用户注册**：必须使用系统中已录入的学生姓名
- **学生用户登录**：注册后可使用账号密码登录
- **权限控制**：管理员和普通用户拥有不同的界面和权限

### 2. 管理员功能
- ✅ 添加学生信息
- ✅ 编辑学生信息
- ✅ 删除学生信息
- ✅ 筛选学生（按班级、成绩范围）
- ✅ 查看 AI 成绩分析报告

### 3. 学生用户功能
- ✅ 查看学生信息（只读）
- ✅ 筛选学生（按班级、成绩范围）
- ✅ 查看 AI 成绩分析报告
- ❌ 不能添加、编辑、删除学生信息

### 4. AI 辅助分析
- 整体统计（总人数、平均分、最高分、最低分）
- 成绩分布（优秀、良好、及格、不及格）
- 班级分析
- 成绩排名 Top 10
- AI 改进建议

## 🚀 快速开始

### 第一步：启动 MongoDB 服务
确保 MongoDB 服务正在运行：
```powershell
Get-Service -Name MongoDB
```

### 第二步：启动后端服务器
```powershell
cd backend
npm start
```

服务器将运行在：`http://localhost:3000`

### 第三步：打开前端页面
直接在浏览器中打开：
```
frontend/index.html
```
或双击 `frontend/index.html` 文件

## 👤 登录方式

### 管理员登录
1. 在登录页面选择 **"管理员登录"**
2. 输入账号：`root`
3. 输入密码：`000000`
4. 点击登录，进入管理员界面

### 学生用户登录

#### 首次使用需要注册：
1. 在登录页面点击 **"立即注册"**
2. 输入您的真实姓名（必须是系统中已录入的学生姓名）
   - 可用的学生姓名示例：吴军、高军、刘华、周静、黄娜 等
3. 设置密码（至少6位）
4. 确认密码
5. 注册成功后自动跳转到登录页

#### 注册后登录：
1. 在登录页面选择 **"学生登录"**（默认）
2. 输入注册时使用的用户名
3. 输入密码
4. 点击登录，进入学生界面

## 📊 可用学生姓名（用于注册）

系统已预置 20 条学生数据，以下是部分可用姓名：

| 姓名 | 学号 | 班级 | 成绩 |
|------|------|------|------|
| 吴军 | 2024001 | 三班 | 91 |
| 高军 | 2024002 | 一班 | 89 |
| 刘华 | 2024003 | 三班 | 72 |
| 周静 | 2024004 | 一班 | 81 |
| 黄娜 | 2024005 | 一班 | 97 |
| ... | ... | ... | ... |

💡 **提示**：您可以使用这些姓名进行注册测试

## 🔐 权限说明

### 管理员权限（admin）
- ✅ 完全访问权限
- ✅ 可以增删改查所有学生信息
- ✅ 可以查看所有功能模块

### 学生用户权限（user）
- ✅ 只读访问权限
- ✅ 可以查看学生列表
- ✅ 可以使用筛选功能
- ✅ 可以查看 AI 分析报告
- ❌ 不能添加、编辑、删除学生信息

## 📁 项目结构

```
student-management-system/
├── backend/                    # 后端代码
│   ├── server.js              # 主服务器文件（包含所有API）
│   ├── seed-students.js       # 生成随机学生数据脚本
│   ├── package.json           # 后端依赖配置
│   └── .env                   # 环境配置文件
├── frontend/                   # 前端代码
│   ├── index.html             # 入口页面（自动跳转）
│   ├── login.html             # 登录页面
│   ├── register.html          # 注册页面
│   ├── admin.html             # 管理员界面
│   ├── user.html              # 学生用户界面
│   ├── login.js               # 登录逻辑
│   ├── register.js            # 注册逻辑
│   ├── admin.js               # 管理员界面逻辑
│   ├── user.js                # 学生界面逻辑
│   ├── auth-styles.css        # 认证页面样式
│   └── styles.css             # 主样式文件
└── 使用说明.md                # 本文档
```

## 🔧 API 接口

### 认证相关
- `POST /api/auth/register` - 用户注册
- `POST /api/auth/login` - 用户登录
- `GET /api/auth/check-username/:username` - 检查用户名是否存在

### 学生管理
- `GET /api/students` - 获取所有学生
- `POST /api/students` - 创建学生
- `GET /api/students/:id` - 获取单个学生
- `PUT /api/students/:id` - 更新学生
- `DELETE /api/students/:id` - 删除学生
- `GET /api/students/filter/search` - 筛选学生
- `GET /api/students/analysis/report` - AI 分析报告

## 💡 使用技巧

### 1. 重新生成学生数据
如果需要重新生成 20 条随机学生数据：
```powershell
cd backend
node seed-students.js --clear
```

### 2. 查看当前数据库数据
```powershell
# 获取所有学生
Invoke-RestMethod -Uri "http://localhost:3000/api/students" -Method Get
```

### 3. 退出登录
在管理员或学生界面，点击右上角的 **"退出登录"** 按钮

### 4. 切换账号
退出登录后，可以在登录页面切换不同的登录类型和账号

## ⚠️ 注意事项

1. **注册限制**：只能使用系统中已录入的学生姓名进行注册
2. **密码长度**：密码最少 6 位
3. **管理员账号**：管理员账号固定为 `root/000000`，不能修改
4. **权限控制**：学生用户无法访问管理员界面，反之亦然
5. **数据持久化**：所有数据存储在 MongoDB 数据库中

## 🐛 常见问题

### Q: 注册时提示"系统未录入学生信息"
**A**: 请使用系统中已存在的学生姓名，可以先查看学生列表获取可用姓名

### Q: 登录后无法访问页面
**A**: 检查浏览器控制台是否有错误，确保后端服务器正常运行

### Q: 无法连接到服务器
**A**: 
1. 确认 MongoDB 服务是否运行
2. 确认后端服务器是否启动（`npm start`）
3. 检查端口 3000 是否被占用

### Q: 如何重置所有数据
**A**: 运行 `node seed-students.js --clear` 可以清空并重新生成学生数据

## 📞 技术支持

如遇到问题，请检查：
1. MongoDB 服务状态
2. 后端服务器运行状态
3. 浏览器控制台错误信息
4. 网络连接状态

---

© 2025 学生信息管理系统 | Powered by Node.js + Express + MongoDB
